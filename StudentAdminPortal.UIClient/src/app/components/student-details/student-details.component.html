<div class="page-header">
  <div class="container">
    <h1>Details of
      {{ student.firstName }}
      {{ student.lastName }}
    </h1>
  </div>
</div>

<div class="container">
  <div class="row top-row">
    <div class="col-xs-12 row end-xs">
      <a mat-raised-button color="primary" routerLink="/{{ routeConstants.studentList }}">
        <mat-icon>chevron_left</mat-icon>
        Go back!
      </a>
      <button type="button" [swal]="{ title: 'Do you really wish to delete ' + student.firstName + ' ' + student.lastName + '?', showCancelButton: true }" (confirm)="deleteStudent()" (dismiss)="toastr.info('You dismissed the deletion of this student')" mat-raised-button color="accent" style="margin-left: 10px; padding: 5px">
        Delete!
      </button>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-6">
      <!-- Student Details -->
      <img [src]="student.avatarURL" width="100%" height="200px" border="2px black" style="margin-bottom: 20px" />
      <form #studentDetailsForm="ngForm" (ngSubmit)="updateStudentDetails()">
        <div class="row">
          <div class="col-xs-6">
            <mat-form-field appearance="outline">
              <mat-label>
                First Name
              </mat-label>
              <input type="text" matInput [(ngModel)]="student.firstName" name="firstName" />
            </mat-form-field>
          </div>
          <div class="col-xs-6">
            <mat-form-field appearance="outline">
              <mat-label>
                Last Name
              </mat-label>
              <input type="text" matInput [(ngModel)]="student.lastName" name="lastName" />
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <mat-form-field appearance="outline">
              <mat-label>
                Date of Birth
              </mat-label>
              <input matInput [matDatepicker]="picker" [(ngModel)]="student.dateOfBirth" name="dateOfBirth" />
              <mat-datepicker-toggle matSuffix [for]="picker">

              </mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <mat-form-field appearance="outline">
              <mat-label>
                Email
              </mat-label>
              <input type="text" matInput [(ngModel)]="student.email" name="email" />
            </mat-form-field>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12">
            <mat-form-field appearance="outline">
              <mat-label>
                Mobile
              </mat-label>
              <input type="text" matInput [(ngModel)]="student.mobile" name="mobile" />
            </mat-form-field>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12">
            <mat-form-field appearance="outline">
              <mat-label>Gender</mat-label>
              <mat-select [(ngModel)]="student.gender.id" name="gender">
                <mat-option *ngFor="let gender of genders" [value]="gender.id">
                  {{ gender.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>

        <h1>Addresses - (
          {{ student.addresses.length }})
        </h1>
        <hr />
        <div *ngFor="let address of student.addresses; index as i">


          <div class="row">
            <div class="col-xs-12">
              <mat-form-field appearance="outline">
                <mat-label>Physical Address</mat-label>
                <textarea matInput [(ngModel)]="student.addresses[i].physicalAddress" name="physicalAddress{{ i }}"></textarea>
              </mat-form-field>
            </div>
          </div>

          <div class="row">
            <div class="col-xs-12">
              <mat-form-field appearance="outline">
                <mat-label>Postal Address</mat-label>
                <textarea matInput [(ngModel)]="student.addresses[i].postalAddress" name="postalAddress{{ i }}"></textarea>
              </mat-form-field>
            </div>
          </div>
          <hr />
        </div>

        <div class="row">
          <div class="col-xs-12">
            <button type="submit" mat-raised-button color="primary">Update details</button>
          </div>
        </div>
      </form>
    </div>
    <div class="col-xs-6">
      <!-- Profile Image -->
    </div>
  </div>
</div>

<style>
  .top-row {
    padding: 1em 0;
  }

  .mat-form-field {
    width: 100%;
  }
</style>
